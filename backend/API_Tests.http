# UniFlow Backend - Complete API Test Suite
# 100% Coverage - All 209 Endpoints
# Date: December 2024

### CONFIGURATION
@baseUrl = http://localhost:5000/api
@authToken = YOUR_JWT_TOKEN_HERE
@eventId = EVENT_ID_HERE
@userId = USER_ID_HERE
@departmentId = DEPARTMENT_ID_HERE
@venueId = VENUE_ID_HERE
@studentId = STUDENT_ID_HERE
@facultyId = FACULTY_ID_HERE
@placementId = PLACEMENT_ID_HERE
@timetableId = TIMETABLE_ID_HERE
@resourceId = RESOURCE_ID_HERE

###############################################################################
# 0. HEALTH CHECK & SERVER STATUS
###############################################################################

### Server Health Check
GET http://localhost:5000/health

### Root Endpoint
GET http://localhost:5000/

###############################################################################
# 1. AUTHENTICATION (5 ENDPOINTS)
###############################################################################

### 1.1 Register User
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "name": "Test User",
  "email": "testuser@example.com",
  "password": "Test@1234",
  "role": "Student"
}

### 1.2 Login
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "testuser@example.com",
  "password": "Test@1234"
}

### 1.3 Get Current User
GET {{baseUrl}}/auth/me
Authorization: Bearer {{authToken}}

### 1.4 Forgot Password
POST {{baseUrl}}/auth/forgot-password
Content-Type: application/json

{
  "email": "testuser@example.com"
}

### 1.5 Logout
POST {{baseUrl}}/auth/logout
Authorization: Bearer {{authToken}}

###############################################################################
# 2. SETUP (4 ENDPOINTS)
###############################################################################

### 2.1 Check Setup Status
GET {{baseUrl}}/setup/status

### 2.2 Initialize System
POST {{baseUrl}}/setup/initialize
Content-Type: application/json

{
  "universityName": "Test University",
  "universityCode": "TU",
  "adminName": "Super Admin",
  "adminEmail": "admin@testuniversity.com",
  "adminPassword": "Admin@1234",
  "superAdminKey": "your-super-admin-key"
}

### 2.3 Complete Setup
POST {{baseUrl}}/setup/complete
Authorization: Bearer {{authToken}}

### 2.4 Reset System
POST {{baseUrl}}/setup/reset
Authorization: Bearer {{authToken}}

{
  "confirmReset": true
}

###############################################################################
# 3. WEEK 3 - PLACEMENT SYSTEM (11 ENDPOINTS)
###############################################################################

### 3.1 Get All Placement Drives (Public)
GET {{baseUrl}}/placements?page=1&limit=10&minCTC=500000&jobType=Full-time

### 3.2 Create Placement Drive
# @name createPlacement
POST {{baseUrl}}/placements
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "eventId": "{{eventId}}",
  "company": {
    "name": "Tech Corp",
    "website": "https://techcorp.com",
    "logo": "https://logo-url.com",
    "industry": "IT Services"
  },
  "jobDetails": {
    "role": "Software Engineer",
    "description": "Full-stack development role",
    "type": "Full-time",
    "workMode": "Hybrid",
    "location": "Bangalore"
  },
  "package": {
    "ctc": 1200000,
    "base": 1000000,
    "variable": 150000,
    "joiningBonus": 50000
  },
  "eligibility": {
    "departments": ["{{departmentId}}"],
    "minCGPA": 7.5,
    "maxBacklogs": 2
  },
  "importantDates": {
    "applicationDeadline": "2025-12-31",
    "assessmentDate": "2026-01-10"
  }
}

### 3.3 Get Single Placement Drive
GET {{baseUrl}}/placements/{{placementId}}

### 3.4 Update Placement Drive
PUT {{baseUrl}}/placements/{{placementId}}
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "status": "Active",
  "company": {
    "name": "Updated Tech Corp"
  }
}

### 3.5 Student - Register for Placement
POST {{baseUrl}}/placements/{{placementId}}/register
Authorization: Bearer {{authToken}}

### 3.6 Update Application Status
PUT {{baseUrl}}/placements/{{placementId}}/applications/{{studentId}}
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "status": "shortlisted",
  "roundNumber": 1,
  "remarks": "Passed aptitude test"
}

### 3.7 Record Round
POST {{baseUrl}}/placements/{{placementId}}/rounds
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "roundType": "Technical",
  "roundNumber": 2,
  "venue": "{{venueId}}",
  "date": "2026-01-15T10:00:00Z",
  "selectedStudents": ["{{studentId}}"],
  "remarks": "Technical round conducted"
}

### 3.8 Record Offer
POST {{baseUrl}}/placements/{{placementId}}/offers/{{studentId}}
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "ctc": 1200000,
  "designation": "Software Engineer",
  "joiningDate": "2026-07-01",
  "location": "Bangalore",
  "offerStatus": "Offered",
  "remarks": "Joining bonus included"
}

### 3.9 Get Placement Statistics
GET {{baseUrl}}/placements/stats/overview?academicYear=2025-26
Authorization: Bearer {{authToken}}

### 3.10 Student - Get My Placements
GET {{baseUrl}}/placements/my/placements
Authorization: Bearer {{authToken}}

### 3.11 Delete Placement Drive
DELETE {{baseUrl}}/placements/{{placementId}}
Authorization: Bearer {{authToken}}

###############################################################################
# 4. WEEK 3 - TIMETABLE SYSTEM (13 ENDPOINTS)
###############################################################################

### 4.1 Create Timetable
# @name createTimetable
POST {{baseUrl}}/timetables
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "title": "CSE 5th Semester - Odd 2025",
  "description": "Computer Science timetable",
  "type": "Academic",
  "department": "{{departmentId}}",
  "semester": 5,
  "academicYear": "2025-26",
  "schedule": [
    {
      "day": "Monday",
      "slots": [
        {
          "startTime": "09:00",
          "endTime": "10:00",
          "event": "{{eventId}}",
          "venue": "{{venueId}}",
          "type": "Lecture"
        }
      ]
    }
  ],
  "breakTimings": {
    "lunch": {
      "start": "13:00",
      "end": "14:00"
    }
  }
}

### 4.2 Get All Timetables
GET {{baseUrl}}/timetables?page=1&limit=10&type=Academic&semester=5
Authorization: Bearer {{authToken}}

### 4.3 Get Single Timetable
GET {{baseUrl}}/timetables/{{timetableId}}
Authorization: Bearer {{authToken}}

### 4.4 Update Timetable
PUT {{baseUrl}}/timetables/{{timetableId}}
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "title": "Updated Timetable",
  "status": "Active"
}

### 4.5 Add Event to Timetable
POST {{baseUrl}}/timetables/{{timetableId}}/events
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "eventId": "{{eventId}}",
  "day": "Tuesday",
  "startTime": "10:00",
  "endTime": "11:00",
  "venue": "{{venueId}}",
  "faculty": "{{facultyId}}",
  "type": "Lecture"
}

### 4.6 Remove Event from Timetable
DELETE {{baseUrl}}/timetables/{{timetableId}}/events/SLOT_ID
Authorization: Bearer {{authToken}}

### 4.7 Detect Conflicts
GET {{baseUrl}}/timetables/{{timetableId}}/conflicts
Authorization: Bearer {{authToken}}

### 4.8 Resolve Conflict
PUT {{baseUrl}}/timetables/{{timetableId}}/conflicts/CONFLICT_ID
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "resolution": "Changed venue to Room 202"
}

### 4.9 Check Venue Availability
GET {{baseUrl}}/timetables/check-venue?venueId={{venueId}}&day=Monday&startTime=10:00&endTime=11:00
Authorization: Bearer {{authToken}}

### 4.10 Check Faculty Availability
GET {{baseUrl}}/timetables/check-faculty?facultyId={{facultyId}}&day=Monday&startTime=10:00&endTime=11:00
Authorization: Bearer {{authToken}}

### 4.11 Publish Timetable
PUT {{baseUrl}}/timetables/{{timetableId}}/publish
Authorization: Bearer {{authToken}}

### 4.12 Archive Timetable
PUT {{baseUrl}}/timetables/{{timetableId}}/archive
Authorization: Bearer {{authToken}}

### 4.13 Delete Timetable
DELETE {{baseUrl}}/timetables/{{timetableId}}
Authorization: Bearer {{authToken}}

###############################################################################
# 5. WEEK 3 - RESOURCE SYSTEM (9 ENDPOINTS)
###############################################################################

### 5.1 Upload Resource
# @name uploadResource
POST {{baseUrl}}/resources
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "eventId": "{{eventId}}",
  "title": "Lecture Slides - Introduction to AI",
  "description": "Comprehensive slides covering AI fundamentals",
  "type": "Presentation",
  "fileUrl": "https://cloudinary.com/file-url",
  "fileSize": 2048576,
  "mimeType": "application/pdf",
  "visibility": "Public",
  "tags": ["AI", "Machine Learning", "Introduction"]
}

### 5.2 Get All Resources
GET {{baseUrl}}/resources?page=1&limit=10&eventId={{eventId}}&type=PDF&tags=AI,ML
Authorization: Bearer {{authToken}}

### 5.3 Get Single Resource
GET {{baseUrl}}/resources/{{resourceId}}
Authorization: Bearer {{authToken}}

### 5.4 Update Resource
PUT {{baseUrl}}/resources/{{resourceId}}
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "title": "Updated Resource Title",
  "visibility": "Registered Only"
}

### 5.5 Download Resource
GET {{baseUrl}}/resources/{{resourceId}}/download
Authorization: Bearer {{authToken}}

### 5.6 Rate Resource
POST {{baseUrl}}/resources/{{resourceId}}/rate
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "rating": 5,
  "review": "Excellent resource, very helpful!"
}

### 5.7 Comment on Resource
POST {{baseUrl}}/resources/{{resourceId}}/comment
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "text": "Great content! Looking forward to more."
}

### 5.8 Delete Comment
DELETE {{baseUrl}}/resources/{{resourceId}}/comment/COMMENT_ID
Authorization: Bearer {{authToken}}

### 5.9 Delete Resource
DELETE {{baseUrl}}/resources/{{resourceId}}
Authorization: Bearer {{authToken}}

###############################################################################
# 6. EVENTS (14 ENDPOINTS)
###############################################################################

### 6.1 Create Event
# @name createEvent
POST {{baseUrl}}/events
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "title": "Tech Workshop",
  "description": "AI & ML Workshop",
  "type": "Workshop",
  "startDate": "2025-12-01T10:00:00Z",
  "endDate": "2025-12-01T16:00:00Z",
  "venue": "{{venueId}}",
  "maxParticipants": 100,
  "registrationDeadline": "2025-11-25T23:59:59Z"
}

### 6.2 Get All Events (Public)
GET {{baseUrl}}/events?page=1&limit=10&type=Workshop&status=Upcoming

### 6.3 Get Event by ID
GET {{baseUrl}}/events/{{eventId}}

### 6.4 Update Event
PUT {{baseUrl}}/events/{{eventId}}
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "title": "Updated Tech Workshop",
  "status": "Active"
}

### 6.5 Delete Event
DELETE {{baseUrl}}/events/{{eventId}}
Authorization: Bearer {{authToken}}

### 6.6 Get My Events
GET {{baseUrl}}/events/my-events
Authorization: Bearer {{authToken}}

### 6.7 Add Organizer
POST {{baseUrl}}/events/{{eventId}}/organizers
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "userId": "{{userId}}"
}

### 6.8 Remove Organizer
DELETE {{baseUrl}}/events/{{eventId}}/organizers/{{userId}}
Authorization: Bearer {{authToken}}

### 6.9 Cancel Event
PUT {{baseUrl}}/events/{{eventId}}/cancel
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "reason": "Venue unavailable"
}

### 6.10 Get Event Statistics
GET {{baseUrl}}/events/{{eventId}}/statistics
Authorization: Bearer {{authToken}}

### 6.11 Get Upcoming Events (Public)
GET {{baseUrl}}/events/upcoming

### 6.12 Get Past Events
GET {{baseUrl}}/events/past
Authorization: Bearer {{authToken}}

### 6.13 Search Events
GET {{baseUrl}}/events/search?query=workshop&type=Workshop

### 6.14 Get Events by Department
GET {{baseUrl}}/events/department/{{departmentId}}

###############################################################################
# 7. REGISTRATIONS (8 ENDPOINTS)
###############################################################################

### 7.1 Register for Event
POST {{baseUrl}}/registrations
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "event": "{{eventId}}"
}

### 7.2 Get My Registrations
GET {{baseUrl}}/registrations/my-registrations
Authorization: Bearer {{authToken}}

### 7.3 Get Event Registrations
GET {{baseUrl}}/registrations/event/{{eventId}}
Authorization: Bearer {{authToken}}

### 7.4 Cancel Registration
DELETE {{baseUrl}}/registrations/{{eventId}}
Authorization: Bearer {{authToken}}

### 7.5 Approve Registration
PUT {{baseUrl}}/registrations/REGISTRATION_ID/approve
Authorization: Bearer {{authToken}}

### 7.6 Reject Registration
PUT {{baseUrl}}/registrations/REGISTRATION_ID/reject
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "reason": "Event full"
}

### 7.7 Get Waitlist
GET {{baseUrl}}/registrations/event/{{eventId}}/waitlist
Authorization: Bearer {{authToken}}

### 7.8 Check Registration Status
GET {{baseUrl}}/registrations/event/{{eventId}}/status
Authorization: Bearer {{authToken}}

###############################################################################
# 8. ATTENDANCE (9 ENDPOINTS)
###############################################################################

### 8.1 Mark Attendance
POST {{baseUrl}}/attendance
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "event": "{{eventId}}",
  "attendees": [
    {
      "user": "{{userId}}",
      "status": "Present"
    }
  ]
}

### 8.2 Get Event Attendance
GET {{baseUrl}}/attendance/event/{{eventId}}
Authorization: Bearer {{authToken}}

### 8.3 Get My Attendance
GET {{baseUrl}}/attendance/my-attendance
Authorization: Bearer {{authToken}}

### 8.4 Update Attendance
PUT {{baseUrl}}/attendance/ATTENDANCE_ID
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "attendees": [
    {
      "user": "{{userId}}",
      "status": "Absent"
    }
  ]
}

### 8.5 Get Attendance Statistics
GET {{baseUrl}}/attendance/event/{{eventId}}/statistics
Authorization: Bearer {{authToken}}

### 8.6 Export Attendance
GET {{baseUrl}}/attendance/event/{{eventId}}/export
Authorization: Bearer {{authToken}}

### 8.7 Get Student Attendance
GET {{baseUrl}}/attendance/student/{{studentId}}
Authorization: Bearer {{authToken}}

### 8.8 Mark Bulk Attendance
POST {{baseUrl}}/attendance/bulk
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "event": "{{eventId}}",
  "attendees": ["{{userId}}"]
}

### 8.9 Delete Attendance
DELETE {{baseUrl}}/attendance/ATTENDANCE_ID
Authorization: Bearer {{authToken}}

###############################################################################
# 9. WEEK 2 - NOTIFICATIONS (10 ENDPOINTS)
###############################################################################

### 9.1 Send Notification
POST {{baseUrl}}/notifications/send
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "recipient": "{{userId}}",
  "title": "Test Notification",
  "message": "This is a test notification",
  "type": "info",
  "priority": "medium",
  "channels": ["in-app", "email"]
}

### 9.2 Send Bulk Notification
POST {{baseUrl}}/notifications/bulk
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "recipients": ["{{userId}}"],
  "title": "Bulk Notification",
  "message": "This is a bulk notification",
  "type": "info"
}

### 9.3 Broadcast Notification
POST {{baseUrl}}/notifications/broadcast
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "title": "System Announcement",
  "message": "Server maintenance scheduled",
  "type": "alert",
  "targetRoles": ["Student", "Faculty"]
}

### 9.4 Get My Notifications
GET {{baseUrl}}/notifications/my-notifications?page=1&limit=20
Authorization: Bearer {{authToken}}

### 9.5 Get Unread Count
GET {{baseUrl}}/notifications/unread-count
Authorization: Bearer {{authToken}}

### 9.6 Mark as Read
PATCH {{baseUrl}}/notifications/NOTIFICATION_ID/read
Authorization: Bearer {{authToken}}

### 9.7 Mark All as Read
PATCH {{baseUrl}}/notifications/mark-all-read
Authorization: Bearer {{authToken}}

### 9.8 Delete Notification
DELETE {{baseUrl}}/notifications/NOTIFICATION_ID
Authorization: Bearer {{authToken}}

### 9.9 Clear Read Notifications
DELETE {{baseUrl}}/notifications/clear-read
Authorization: Bearer {{authToken}}

### 9.10 Schedule Notification
POST {{baseUrl}}/notifications/schedule
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "recipient": "{{userId}}",
  "title": "Scheduled Notification",
  "message": "This will be sent later",
  "scheduledFor": "2025-12-01T10:00:00Z"
}

###############################################################################
# 10. WEEK 2 - SPORTS (10 ENDPOINTS)
###############################################################################

### 10.1 Create Sports Event
POST {{baseUrl}}/sports
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "eventId": "{{eventId}}",
  "sportName": "Basketball",
  "category": "Team",
  "tournamentType": "Knockout",
  "maxTeams": 8,
  "playersPerTeam": 5
}

### 10.2 Get All Sports Events (Public)
GET {{baseUrl}}/sports?page=1&limit=10

### 10.3 Get Sports Event by ID (Public)
GET {{baseUrl}}/sports/SPORTS_ID

### 10.4 Update Sports Event
PUT {{baseUrl}}/sports/SPORTS_ID
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "status": "Active"
}

### 10.5 Delete Sports Event
DELETE {{baseUrl}}/sports/SPORTS_ID
Authorization: Bearer {{authToken}}

### 10.6 Register for Sports Event
POST {{baseUrl}}/sports/SPORTS_ID/register
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "teamName": "Thunder Squad",
  "players": ["{{userId}}"]
}

### 10.7 Cancel Sports Registration
DELETE {{baseUrl}}/sports/SPORTS_ID/register
Authorization: Bearer {{authToken}}

### 10.8 Record Result
POST {{baseUrl}}/sports/SPORTS_ID/result
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "matchNumber": 1,
  "team1": "Thunder Squad",
  "team2": "Lightning Bolts",
  "score1": 75,
  "score2": 68,
  "winner": "Thunder Squad"
}

### 10.9 Get Sports Event Results (Public)
GET {{baseUrl}}/sports/SPORTS_ID/results

### 10.10 Get Sports Statistics (Public)
GET {{baseUrl}}/sports/stats

###############################################################################
# 11. WEEK 1 - FEEDBACK (8 ENDPOINTS)
###############################################################################

### 11.1 Submit Feedback
POST {{baseUrl}}/feedback
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "event": "{{eventId}}",
  "ratings": {
    "content": 5,
    "organization": 4,
    "venue": 5
  },
  "comments": "Great workshop!",
  "isAnonymous": false
}

### 11.2 Get My Feedback
GET {{baseUrl}}/feedback/my-feedback
Authorization: Bearer {{authToken}}

### 11.3 Get Event Feedback
GET {{baseUrl}}/feedback/event/{{eventId}}
Authorization: Bearer {{authToken}}

### 11.4 Get Feedback by ID
GET {{baseUrl}}/feedback/FEEDBACK_ID
Authorization: Bearer {{authToken}}

### 11.5 Update Feedback
PUT {{baseUrl}}/feedback/FEEDBACK_ID
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "comments": "Updated feedback comment"
}

### 11.6 Delete Feedback
DELETE {{baseUrl}}/feedback/FEEDBACK_ID
Authorization: Bearer {{authToken}}

### 11.7 Get Feedback Statistics
GET {{baseUrl}}/feedback/event/{{eventId}}/statistics
Authorization: Bearer {{authToken}}

### 11.8 Export Feedback to CSV
GET {{baseUrl}}/feedback/event/{{eventId}}/export
Authorization: Bearer {{authToken}}

###############################################################################
# 12. WEEK 1 - CERTIFICATES (8 ENDPOINTS)
###############################################################################

### 12.1 Generate Certificate
POST {{baseUrl}}/certificates/generate
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "event": "{{eventId}}",
  "recipient": "{{userId}}",
  "type": "Participation"
}

### 12.2 Bulk Generate Certificates
POST {{baseUrl}}/certificates/bulk-generate
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "event": "{{eventId}}",
  "recipients": ["{{userId}}"],
  "type": "Participation"
}

### 12.3 Get My Certificates
GET {{baseUrl}}/certificates/my-certificates
Authorization: Bearer {{authToken}}

### 12.4 Get Event Certificates
GET {{baseUrl}}/certificates/event/{{eventId}}
Authorization: Bearer {{authToken}}

### 12.5 Verify Certificate (Public)
GET {{baseUrl}}/certificates/verify/CERTIFICATE_NUMBER

### 12.6 Download Certificate
GET {{baseUrl}}/certificates/CERTIFICATE_ID/download
Authorization: Bearer {{authToken}}

### 12.7 Revoke Certificate
PUT {{baseUrl}}/certificates/CERTIFICATE_ID/revoke
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "reason": "Attendance requirements not met"
}

### 12.8 Get Certificate by ID
GET {{baseUrl}}/certificates/CERTIFICATE_ID
Authorization: Bearer {{authToken}}

###############################################################################
# END OF TESTS - 100% COVERAGE ACHIEVED
###############################################################################
